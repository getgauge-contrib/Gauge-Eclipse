grammar io.getgauge.Spec with org.eclipse.xtext.common.Terminals

generate spec "http://www.getgauge.io/Spec"

Model:
  entities+=Entity*;

Entity:
  Section | Subsection | Paragraph
;

Spec:
  '#'
    content+=TextPart
  '::'
;

Subsection:
  '##'
    content+=TextPart
  '::'
;

Paragraph:
  content+=TextPart
;

TextPart:
  text=Text
;

Text:
        (ID | WS | SINGLE_NL | MULTI_NL | ANY_OTHER | '\\[' | '\\]' | ',' | "-" | '\\:' | '\\%' | '\\#' | '\\##' )+;

Spec:
	(('# ' name=ANY_OTHER) | (name=ANY_OTHER
		('=')*
	))
	scenarios+=Scenario*
	step+=Step*
;

Scenario:
	(('## ' name=ANY_OTHER) | (name=ANY_OTHER
		('-')*
	))
	steps+=Step*
;

Step:
	'*' name=ANY_OTHER
;

terminal SPEC_DEF : '#'!('\n'|'\r')* ('\r'? '\n')?;
terminal SCENARIO_DEF : '##'!('\n'|'\r')* ('\r'? '\n')?;
terminal STEP_DEF : '*'!('\n'|'\r')* ('\r'? '\n')?;