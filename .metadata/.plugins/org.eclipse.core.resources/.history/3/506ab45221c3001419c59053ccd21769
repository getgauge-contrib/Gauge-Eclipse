grammar io.getgauge.Spec 
import "http://www.eclipse.org/emf/2002/Ecore" as ecore

generate spec "http://www.getgauge.io/Spec"

Model:
	definitions+=AbstractEntity;

AbstractEntity:
	Spec | Scenario | Step | {AbstractEntity} Paragraph;

Spec:
	'# ' name=LINE_TEXT
	scenarios+=(Scenario|Step)*;

Scenario:
	'## ' name=LINE_TEXT;

Step:
	'* ' name=LINE_TEXT;

Paragraph:
	LINE_TEXT+;

terminal LINE_TEXT:
	ANY_OTHER -> (SINGLE_NL|MULTI_NL);
//	(ID | WS | ANY_OTHER | STRING | ',' | "-")+;

terminal ID:
	('a'..'z' | 'A'..'Z' | '_') ('a'..'z' | 'A'..'Z' | '_' | '0'..'9')*;

terminal MULTI_NL:
	SINGLE_NL (SINGLE_NL)+;

terminal SINGLE_NL:
	'\r'? '\n';

terminal WS:
	' ' | '\t';

terminal ANY_OTHER:
	.;

terminal STRING	: 
		'"' ( '\\' . /* 'b'|'t'|'n'|'f'|'r'|'u'|'"'|"'"|'\\' */ | !('\\'|'"') )* '"' |
		"'" ( '\\' . /* 'b'|'t'|'n'|'f'|'r'|'u'|'"'|"'"|'\\' */ | !('\\'|"'") )* "'"; 